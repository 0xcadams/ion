---
title: Function
description: Reference doc for the `Function` component
---

import Segment from '../../../../../components/tsdoc/Segment.astro';
import Section from '../../../../../components/tsdoc/Section.astro';
import InlineSection from '../../../../../components/tsdoc/InlineSection.astro';

<Section type="about">
The `Function` component is a higher level component that makes it easy to create an AWS Lambda Function.

#### Using the minimal config
```ts
new sst.aws.Function("MyFunction", {
  handler: "src/lambda.handler",
});
```
</Section>

---

## Constructor

<Segment>
<Section type="signature">
```ts
new Function(name, args, opts?)
```
</Section>

<Section type="parameters">
#### Parameters
- <p><code class="key">name</code> <code class="primitive">string</code></p>
- <p><code class="key">args</code> [<code class="type">FunctionArgs</code>](#functionargs)</p>
- <p><code class="key">opts</code> [<code class="type">ComponentResourceOptions</code>](https://www.pulumi.com/docs/concepts/options/)</p>
</Section>
</Segment>

## Properties

<Segment>
### nodes
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Object</code>
</InlineSection>
- <p><code class="key">function</code><code class="primitive">Output</code><code class="symbol">&lt;</code>[<code class="type">Function</code>](https://www.pulumi.com/registry/packages/aws/api-docs/lambda/function/)<code class="symbol">&gt;</code></p>
- <p><code class="key">logGroup</code>[<code class="type">LogGroup</code>](#loggroup)</p>
- <p><code class="key">role</code><code class="primitive">Output</code><code class="symbol">&lt;</code>[<code class="type">Role</code>](https://www.pulumi.com/registry/packages/aws/api-docs/iam/role/)<code class="symbol">&gt;</code></p>
</Section>
</Segment>

<Segment>
### url
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Output</code><code class="symbol">&lt;</code><code class="primitive">undefined</code><code class="symbol"> | </code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
</Segment>

## FunctionArgs
<Segment>
### architecture?
The system architectures for the function.
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">x86_64</code><code class="symbol"> | </code><code class="primitive">arm64</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">x86_64</code>
</InlineSection>
```js
{
  architecture: "arm64"
}
```
</Segment>
<Segment>
### bundle?
Path to the source code directory for the function.
Use `bundle` only when the function code is ready to be deployed to Lambda.
Typically, omit `bundle`. If omitted, the handler file is bundled with esbuild, using its output directory as the bundle folder.
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** Path to the esbuild output directory
</InlineSection>
```js
{
  bundle: "packages/functions/src",
  handler: "index.handler"
}
```
</Segment>
<Segment>
### copyFiles?
Used to configure additional files to copy into the function bundle
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">Object</code><code class="symbol">[]</code><code class="symbol">&gt;</code>
</InlineSection>
- <p><code class="key">from?</code><code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code></p>
Source path relative to sst.config.ts
- <p><code class="key">to?</code><code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code></p>
Destination path relative to function root in bundle
</Section>
```js
{
  copyFiles: [{ from: "src/index.js" }]
}
```
</Segment>
<Segment>
### description?
A description for the function.
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** No description
</InlineSection>
```js
{
  description: "Handler function for my nightly cron job."
}
```
</Segment>
<Segment>
### environment?
Key-value pairs that Lambda makes available for the function at runtime.
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">Record</code><code class="symbol">&lt;</code><code class="primitive">string</code>, <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code><code class="symbol">&gt;</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** No environment variables
</InlineSection>
```js
{
  environment: {
    DEBUG: "true"
  }
}
```
</Segment>
<Segment>
### handler
Path to the handler for the function.
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
When `bundle` is specified, the handler is relative to the bundle folder.
```js
{
  bundle: "packages/functions/src",
  handler: "index.handler"
}
```
When `bundle` is not specified, the handler is relative to the root of your SST application.
```js
{
  handler: "packages/functions/src/index.handler"
}
```
</Segment>
<Segment>
### injections?

<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">[]</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
</Segment>
<Segment>
### link?
Link resources to the function.
This will grant the function permissions to access the linked resources at runtime.
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">any</code><code class="symbol">[]</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
```js
{
  link: [myBucket, stripeKey],
}
```
</Segment>
<Segment>
### logging?
Configure function logging
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">Object</code><code class="symbol">&gt;</code>
</InlineSection>
- <p><code class="key">retention?</code><code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">1 day</code><code class="symbol"> | </code><code class="primitive">3 days</code><code class="symbol"> | </code><code class="primitive">5 days</code><code class="symbol"> | </code><code class="primitive">1 week</code><code class="symbol"> | </code><code class="primitive">2 weeks</code><code class="symbol"> | </code><code class="primitive">1 month</code><code class="symbol"> | </code><code class="primitive">2 months</code><code class="symbol"> | </code><code class="primitive">3 months</code><code class="symbol"> | </code><code class="primitive">4 months</code><code class="symbol"> | </code><code class="primitive">5 months</code><code class="symbol"> | </code><code class="primitive">6 months</code><code class="symbol"> | </code><code class="primitive">1 year</code><code class="symbol"> | </code><code class="primitive">13 months</code><code class="symbol"> | </code><code class="primitive">18 months</code><code class="symbol"> | </code><code class="primitive">2 years</code><code class="symbol"> | </code><code class="primitive">3 years</code><code class="symbol"> | </code><code class="primitive">5 years</code><code class="symbol"> | </code><code class="primitive">6 years</code><code class="symbol"> | </code><code class="primitive">7 years</code><code class="symbol"> | </code><code class="primitive">8 years</code><code class="symbol"> | </code><code class="primitive">9 years</code><code class="symbol"> | </code><code class="primitive">10 years</code><code class="symbol"> | </code><code class="primitive">forever</code><code class="symbol">&gt;</code></p>

<InlineSection>
**Default** <code class="primitive">forever</code>
</InlineSection>
The duration function logs are kept in CloudWatch Logs.
```js
{
  logging: {
    retention: "1 week"
  }
}
```
</Section>

<InlineSection>
**Default** Logs retained indefinitely
</InlineSection>
</Segment>
<Segment>
### memory?
The amount of memory allocated for the function.
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">$\{number\} MB</code><code class="symbol"> | </code><code class="primitive">$\{number\} GB</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">1024 MB</code>
</InlineSection>
```js
{
  memory: "10240 MB"
}
```
</Segment>
<Segment>
### nodejs?
Used to configure nodejs function properties
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">Object</code><code class="symbol">&gt;</code>
</InlineSection>
- <p><code class="key">banner?</code><code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code></p>
Use this to insert an arbitrary string at the beginning of generated JavaScript and CSS files.
```js
nodejs: {
  banner: "console.log('Function starting')"
}
```
- <p><code class="key">esbuild?</code><code class="primitive">Input</code><code class="symbol">&lt;</code>[<code class="type">BuildOptions</code>](https://esbuild.github.io/api/#build)<code class="symbol">&gt;</code></p>
This allows you to customize esbuild config.
- <p><code class="key">format?</code><code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">cjs</code><code class="symbol"> | </code><code class="primitive">esm</code><code class="symbol">&gt;</code></p>

<InlineSection>
**Default** <code class="primitive">esm</code>
</InlineSection>
Configure format
```js
nodejs: {
  format: "cjs"
}
```
- <p><code class="key">install?</code><code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">[]</code><code class="symbol">&gt;</code></p>
Packages that will be excluded from the bundle and installed into node_modules instead. Useful for dependencies that cannot be bundled, like those with binary dependencies.
```js
nodejs: {
  install: ["pg"]
}
```
- <p><code class="key">loader?</code><code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">Record</code><code class="symbol">&lt;</code><code class="primitive">string</code>, [<code class="type">Loader</code>](https://esbuild.github.io/api/#build)<code class="symbol">&gt;</code><code class="symbol">&gt;</code></p>
Configure additional esbuild loaders for other file extensions
```js
nodejs: {
  loader: {
   ".png": "file"
  }
}
```
- <p><code class="key">minify?</code><code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">boolean</code><code class="symbol">&gt;</code></p>

<InlineSection>
**Default** <code class="primitive">true</code>
</InlineSection>
Enable or disable minification
```js
nodejs: {
  minify: false
}
```
- <p><code class="key">sourcemap?</code><code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">boolean</code><code class="symbol">&gt;</code></p>

<InlineSection>
**Default** <code class="primitive">false</code>
</InlineSection>
Configure if sourcemaps are generated when the function is bundled for production. Since they increase payload size and potentially cold starts they are not generated by default. They are always generated during local development mode.
```js
nodejs: {
  sourcemap: true
}
```
- <p><code class="key">splitting?</code><code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">boolean</code><code class="symbol">&gt;</code></p>

<InlineSection>
**Default** <code class="primitive">false</code>
</InlineSection>
If enabled, modules that are dynamically imported will be bundled as their own files with common dependencies placed in shared chunks. This can help drastically reduce cold starts as your function grows in size.
```js
nodejs: {
  splitting: true
}
```
</Section>
</Segment>
<Segment>
### permissions?
Initial IAM policy statements to add to the created Lambda Role.
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">Object</code><code class="symbol">[]</code><code class="symbol">&gt;</code>
</InlineSection>
- <p><code class="key">actions?</code><code class="primitive">string</code><code class="symbol">[]</code></p>
- <p><code class="key">resources?</code><code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code><code class="symbol">[]</code></p>
</Section>

<InlineSection>
**Default** No permissions
</InlineSection>
```js
{
  permissions: [
    {
      actions: ["s3:*"],
      resources: ["arn:aws:s3:::*"],
    },
  ]
}
```
</Segment>
<Segment>
### runtime?
The runtime environment for the function.
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">nodejs18.x</code><code class="symbol"> | </code><code class="primitive">nodejs20.x</code><code class="symbol"> | </code><code class="primitive">provided.al2023</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">nodejs18.x</code>
</InlineSection>
```js
{
  runtime: "nodejs20.x"
}
```
</Segment>
<Segment>
### streaming?
Whether to enable streaming for the function.
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">boolean</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">false</code>
</InlineSection>
```js
{
  streaming: true
}
```
</Segment>
<Segment>
### timeout?
The amount of time that Lambda allows a function to run before stopping it.
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">$\{number\} second</code><code class="symbol"> | </code><code class="primitive">$\{number\} seconds</code><code class="symbol"> | </code><code class="primitive">$\{number\} minute</code><code class="symbol"> | </code><code class="primitive">$\{number\} minutes</code><code class="symbol"> | </code><code class="primitive">$\{number\} hour</code><code class="symbol"> | </code><code class="primitive">$\{number\} hours</code><code class="symbol"> | </code><code class="primitive">$\{number\} day</code><code class="symbol"> | </code><code class="primitive">$\{number\} days</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">20 seconds</code>
</InlineSection>
```js
{
  timeout: "900 seconds"
}
```
</Segment>
<Segment>
### transform?
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Object</code>
</InlineSection>
- <p><code class="key">function?</code><code class="primitive">Transform</code><code class="symbol">&lt;</code>[<code class="type">FunctionArgs</code>](https://www.pulumi.com/registry/packages/aws/api-docs/lambda/function/#inputs)<code class="symbol">&gt;</code></p>
</Section>
</Segment>
<Segment>
### url?
Enable function URLs, a dedicated endpoint for your Lambda function.
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">boolean</code><code class="symbol"> | </code><code class="primitive">Object</code><code class="symbol">&gt;</code>
</InlineSection>
- <p><code class="key">authorization?</code><code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">none</code><code class="symbol"> | </code><code class="primitive">iam</code><code class="symbol">&gt;</code></p>

<InlineSection>
**Default** <code class="primitive">none</code>
</InlineSection>
The authorization for the function URL
```js
{
  url: {
    authorization: "iam",
  },
}
```
- <p><code class="key">cors?</code><code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">boolean</code><code class="symbol"> | </code><code class="primitive">Object</code><code class="symbol">&gt;</code></p>

<InlineSection>
**Default** <code class="primitive">true</code>
</InlineSection>
CORS support for the function URL
```js
{
  url: {
    cors: true,
  },
}
```

```js
{
  url: {
    cors: {
      allowedMethods: ["GET", "POST"],
      allowedOrigins: ['https://example.com'],
    },
  },
}
```
- <p><code class="key">cors.allowCredentials?</code><code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">boolean</code><code class="symbol">&gt;</code></p>
Whether to allow cookies or other credentials in requests to the function URL. The default is `false`.
- <p><code class="key">cors.allowHeaders?</code><code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code><code class="symbol">[]</code><code class="symbol">&gt;</code></p>
The HTTP headers that origins can include in requests to the function URL. For example: `["date", "keep-alive", "x-custom-header"]`.
- <p><code class="key">cors.allowMethods?</code><code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">*</code><code class="symbol"> | </code><code class="primitive">DELETE</code><code class="symbol"> | </code><code class="primitive">GET</code><code class="symbol"> | </code><code class="primitive">HEAD</code><code class="symbol"> | </code><code class="primitive">OPTIONS</code><code class="symbol"> | </code><code class="primitive">PATCH</code><code class="symbol"> | </code><code class="primitive">POST</code><code class="symbol"> | </code><code class="primitive">PUT</code><code class="symbol">&gt;</code><code class="symbol">[]</code><code class="symbol">&gt;</code></p>
The HTTP methods that are allowed when calling the function URL. For example: `["GET", "POST", "DELETE"]`, or the wildcard character (`["*"]`).
- <p><code class="key">cors.allowOrigins?</code><code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code><code class="symbol">[]</code><code class="symbol">&gt;</code></p>
The origins that can access the function URL. You can list any number of specific origins (or the wildcard character (`"*"`)), separated by a comma. For example: `["https://www.example.com", "http://localhost:60905"]`.
- <p><code class="key">cors.exposeHeaders?</code><code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code><code class="symbol">[]</code><code class="symbol">&gt;</code></p>
The HTTP headers in your function response that you want to expose to origins that call the function URL.
- <p><code class="key">cors.maxAge?</code><code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">$\{number\} second</code><code class="symbol"> | </code><code class="primitive">$\{number\} seconds</code><code class="symbol"> | </code><code class="primitive">$\{number\} minute</code><code class="symbol"> | </code><code class="primitive">$\{number\} minutes</code><code class="symbol"> | </code><code class="primitive">$\{number\} hour</code><code class="symbol"> | </code><code class="primitive">$\{number\} hours</code><code class="symbol"> | </code><code class="primitive">$\{number\} day</code><code class="symbol"> | </code><code class="primitive">$\{number\} days</code><code class="symbol">&gt;</code></p>
The maximum amount of time, in seconds, that web browsers can cache results of a preflight request. By default, this is set to `0`, which means that the browser doesn't cache results. The maximum value is `86400`.
</Section>

<InlineSection>
**Default** Disabled
</InlineSection>
```js
{
  url: true
}
```

```js
{
  url: {
    authorization: "iam",
    cors: {
      allowedOrigins: ['https://example.com'],
    }
  }
}
```
</Segment>

## FunctionPermissionArgs
<Segment>
### actions
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code><code class="symbol">[]</code>
</InlineSection>
</Section>
</Segment>
<Segment>
### resources
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code><code class="symbol">[]</code>
</InlineSection>
</Section>
</Segment>