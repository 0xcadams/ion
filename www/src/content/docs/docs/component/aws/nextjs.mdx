---
title: Nextjs
description: Reference doc for the `Nextjs` component
---

import Segment from '../../../../../components/tsdoc/Segment.astro';
import Section from '../../../../../components/tsdoc/Section.astro';
import InlineSection from '../../../../../components/tsdoc/InlineSection.astro';

<Section type="about">
The `Nextjs` component makes it easy to create a Next.js app.

#### Using the minimal config
```js
new sst.aws.Nextjs("Web", {
  path: "my-next-app/",
});
```
</Section>

---

## Constructor

<Segment>
<Section type="signature">
```ts
new Nextjs(name, args?, opts?)
```
</Section>

<Section type="parameters">
#### Parameters
- <p><code class="key">name</code> <code class="primitive">string</code></p>
- <p><code class="key">args</code> [<code class="type">NextjsArgs</code>](#nextjsargs)</p>
- <p><code class="key">opts</code> [<code class="type">ComponentResourceOptions</code>](https://www.pulumi.com/docs/concepts/options/)</p>
</Section>
</Segment>

## Properties

<Segment>
### domainUrl
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">undefined</code><code class="symbol"> | </code><code class="primitive">Output</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
If the custom domain is enabled, this is the URL of the website with the
custom domain.
</Segment>

<Segment>
### url
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Output</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
The CloudFront URL of the website.
</Segment>

## NextjsArgs
<Segment>
### assets?
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">Object</code><code class="symbol">&gt;</code>
</InlineSection>
- <p>[<code class="key">fileOptions?</code>](#assetsfileoptions) <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">Object</code><code class="symbol">[]</code><code class="symbol">&gt;</code></p>
  - <p>[<code class="key">cacheControl?</code>](#assetsfileoptionscachecontrol)</p>
  - <p>[<code class="key">contentType?</code>](#assetsfileoptionscontenttype)</p>
  - <p>[<code class="key">files</code>](#assetsfileoptionsfiles)</p>
  - <p>[<code class="key">ignore?</code>](#assetsfileoptionsignore)</p>
- <p>[<code class="key">nonVersionedFilesCacheHeader?</code>](#assetsnonversionedfilescacheheader)</p>
- <p>[<code class="key">nonVersionedFilesTTL?</code>](#assetsnonversionedfilesttl)</p>
- <p>[<code class="key">textEncoding?</code>](#assetstextencoding)</p>
- <p>[<code class="key">versionedFilesCacheHeader?</code>](#assetsversionedfilescacheheader)</p>
- <p>[<code class="key">versionedFilesTTL?</code>](#assetsversionedfilesttl)</p>
</Section>
Configure the assets uploaded to S3.
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">assets.</code>fileOptions?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">Object</code><code class="symbol">[]</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
List of file options to specify cache control and content type for cached files. These file options are appended to the default file options so it's possible to override the default file options by specifying an overlapping file pattern.
```js
assets: {
  fileOptions: [
    {
      files: "**/*.zip",
      cacheControl: "private,no-cache,no-store,must-revalidate",
      contentType: "application/zip",
    },
  ],
}
```
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">assets.fileOptions[].</code>cacheControl?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">assets.fileOptions[].</code>contentType?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">assets.fileOptions[].</code>files
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code><code class="symbol"> | </code><code class="primitive">string</code><code class="symbol">[]</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">assets.fileOptions[].</code>ignore?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code><code class="symbol"> | </code><code class="primitive">string</code><code class="symbol">[]</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">assets.</code>nonVersionedFilesCacheHeader?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">public,max-age=0,s-maxage=86400,stale-while-revalidate=8640</code>
</InlineSection>
The header to use for non-versioned files (ex: `index.html`) in the CDN cache. When specified, the `nonVersionedFilesTTL` option is ignored.
```js
assets: {
  nonVersionedFilesCacheHeader: "public,max-age=0,no-cache"
}
```
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">assets.</code>nonVersionedFilesTTL?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">number</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">$\{number\} second</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">$\{number\} seconds</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">$\{number\} minute</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">$\{number\} minutes</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">$\{number\} hour</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">$\{number\} hours</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">$\{number\} day</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">$\{number\} days</code><code class="symbol">&rdquo;</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">1 day</code>
</InlineSection>
The TTL for non-versioned files (ex: `index.html`) in the CDN cache. Ignored when `nonVersionedFilesCacheHeader` is specified.
```js
assets: {
  nonVersionedFilesTTL: "4 hours"
}
```
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">assets.</code>textEncoding?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="symbol">&ldquo;</code><code class="primitive">none</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">utf-8</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">iso-8859-1</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">windows-1252</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">ascii</code><code class="symbol">&rdquo;</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">utf-8</code>
</InlineSection>
Character encoding for text based assets uploaded to S3 (ex: html, css, js, etc.). If "none" is specified, no charset will be returned in header.
```js
assets: {
  textEncoding: "iso-8859-1"
}
```
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">assets.</code>versionedFilesCacheHeader?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">public,max-age=31536000,immutable</code>
</InlineSection>
The header to use for versioned files (ex: `main-1234.css`) in the CDN cache. When specified, the `versionedFilesTTL` option is ignored.
```js
assets: {
  versionedFilesCacheHeader: "public,max-age=31536000,immutable"
}
```
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">assets.</code>versionedFilesTTL?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">number</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">$\{number\} second</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">$\{number\} seconds</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">$\{number\} minute</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">$\{number\} minutes</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">$\{number\} hour</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">$\{number\} hours</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">$\{number\} day</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">$\{number\} days</code><code class="symbol">&rdquo;</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">1 year</code>
</InlineSection>
The TTL for versioned files (ex: `main-1234.css`) in the CDN and browser cache. Ignored when `versionedFilesCacheHeader` is specified.
```js
assets: {
  versionedFilesTTL: "30 days"
}
```
</Segment>
<Segment>
### buildCommand?
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">npm run build</code>
</InlineSection>
The command for building the website
```js
buildCommand: "yarn build",
```
</Segment>
<Segment>
### domain?
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol"> | </code><code class="primitive">Object</code><code class="symbol">&gt;</code>
</InlineSection>
- <p>[<code class="key">aliases?</code>](#domainaliases)</p>
- <p>[<code class="key">domainName</code>](#domaindomainname)</p>
- <p>[<code class="key">hostedZone?</code>](#domainhostedzone)</p>
- <p>[<code class="key">hostedZoneId?</code>](#domainhostedzoneid)</p>
- <p>[<code class="key">redirects?</code>](#domainredirects)</p>
</Section>
The domain for this website. SST supports domains that are hosted
either on [Route 53](https://aws.amazon.com/route53/) or externally.

Note that you can also migrate externally hosted domains to Route 53 by
[following this guide](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/MigratingDNS.html).
```js
domain: "domain.com",
```

```js
domain: {
  domainName: "domain.com",
  redirects: ["www.domain.com"],
  hostedZone: "domain.com"
},
```
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">domain.</code>aliases?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">[]</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** No aliases configured
</InlineSection>
Specify additional names that should route to the Cloudfront Distribution.
```js
domain: {
  domainName: "app1.domain.com",
  aliases: ["app2.domain.com"],
}
```
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">domain.</code>domainName
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
The domain to be assigned to the website URL (ie. domain.com).

Supports domains that are hosted either on [Route 53](https://aws.amazon.com/route53/) or externally.
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">domain.</code>hostedZone?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** Same as the `domainName`
</InlineSection>
Name of the hosted zone in Route 53 that contains the domain. By default, SST will look for a hosted zone matching the domain name that's passed in.
Do not set both "hostedZone" and "hostedZoneId".
```js
domain: {
  domainName: "app.domain.com",
  hostedZone: "domain.com",
}
```
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">domain.</code>hostedZoneId?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
The 14 letter id of the hosted zone in Route 53 that contains the domain.
Only set this option if there are multiple hosted zones of the same domain in Route 53.
Do not set both "hostedZone" and "hostedZoneId".
```js
domain: {
  domainName: "domain.com",
  hostedZoneId: "Z2FDTNDATAQYW2",
}
```
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">domain.</code>redirects?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">[]</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** No redirects configured
</InlineSection>
Alternative domains to be assigned to the website URL. Visitors to the alternative domains will be redirected to the main domain. (ie. `www.domain.com`).
Use this to create a `www.` version of your domain and redirect visitors to the root domain.
```js
domain: {
  domainName: "domain.com",
  redirects: ["www.domain.com"],
}
```
</Segment>
<Segment>
### edge?
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">boolean</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">false</code>
</InlineSection>
The server function is deployed to Lambda in a single region. Alternatively, you can enable this option to deploy to Lambda@Edge.
</Segment>
<Segment>
### environment?
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">Record</code><code class="symbol">&lt;</code><code class="primitive">string</code>, <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code><code class="symbol">&gt;</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
An object with the key being the environment variable name.
```js
environment: {
  API_URL: api.url,
  USER_POOL_CLIENT: auth.cognitoUserPoolClient.userPoolClientId,
},
```
</Segment>
<Segment>
### experimental?
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Object</code>
</InlineSection>
- <p>[<code class="key">disableDynamoDBCache?</code>](#experimentaldisabledynamodbcache)</p>
- <p>[<code class="key">disableIncrementalCache?</code>](#experimentaldisableincrementalcache)</p>
- <p>[<code class="key">streaming?</code>](#experimentalstreaming)</p>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">experimental.</code>disableDynamoDBCache?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">boolean</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">false</code>
</InlineSection>
Disabling DynamoDB cache will cause on-demand revalidation by path (`revalidatePath`) and by cache tag (`revalidateTag`) to fail silently.
```js
experimental: {
  disableDynamoDBCache: true,
}
```
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">experimental.</code>disableIncrementalCache?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">boolean</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">false</code>
</InlineSection>
Disabling incremental cache will cause the entire page to be revalidated on each request. This can result in ISR and SSG pages to be in an inconsistent state. Specify this option if you are using SSR pages only.

Note that it is possible to disable incremental cache while leaving on-demand revalidation enabled.
```js
experimental: {
  disableIncrementalCache: true,
}
```
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">experimental.</code>streaming?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">boolean</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">false</code>
</InlineSection>
Enable streaming. Currently an experimental feature in OpenNext.
```js
experimental: {
  streaming: true,
}
```
</Segment>
<Segment>
### imageOptimization?
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Object</code>
</InlineSection>
- <p>[<code class="key">memory?</code>](#imageoptimizationmemory)</p>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">imageOptimization.</code>memory?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="symbol">&ldquo;</code><code class="primitive">$\{number\} MB</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">$\{number\} GB</code><code class="symbol">&rdquo;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">1024 MB</code>
</InlineSection>
The amount of memory in MB allocated for image optimization function.
```js
imageOptimization: {
  memory: "512 MB",
}
```
</Segment>
<Segment>
### invalidation?
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">Object</code><code class="symbol">&gt;</code>
</InlineSection>
- <p>[<code class="key">paths?</code>](#invalidationpaths)</p>
- <p>[<code class="key">wait?</code>](#invalidationwait)</p>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">invalidation.</code>paths?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">[]</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">none</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">all</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">versioned</code><code class="symbol">&rdquo;</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">all</code>
</InlineSection>
The paths to invalidate. There are three built-in options:
- "none" - No invalidation will be performed.
- "all" - All files will be invalidated when any file changes.
- "versioned" - Only versioned files will be invalidated when versioned files change.
Alternatively you can pass in an array of paths to invalidate.
Disable invalidation:
```js
invalidation: {
  paths: "none",
}
```
Invalidate "index.html" and all files under the "products" route:
```js
invalidation: {
  paths: ["/index.html", "/products/*"],
}
```
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">invalidation.</code>wait?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">boolean</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">false</code>
</InlineSection>
While deploying, SST waits for the CloudFront cache invalidation process to finish. This ensures that the new content will be served once the deploy command finishes. However, this process can sometimes take more than 5 mins. For non-prod environments it might make sense to pass in `false`. That'll skip waiting for the cache to invalidate and speed up the deploy process.
```js
invalidation: {
  wait: true,
}
```
</Segment>
<Segment>
### link?
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">any</code><code class="symbol">[]</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
Link resources to the SSR function.
This will grant the site permissions to access the linked resources at runtime.
```js
{
  link: [myBucket, stripeKey],
}
```
</Segment>
<Segment>
### logging?
<Section type="parameters">
<InlineSection>
**Type** <code class="symbol">&ldquo;</code><code class="primitive">combined</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">per-route</code><code class="symbol">&rdquo;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">per-route</code>
</InlineSection>
How the logs are stored in CloudWatch
- "combined" - Logs from all routes are stored in the same log group.
- "per-route" - Logs from each route are stored in a separate log group.
```js
logging: "combined",
```
</Segment>
<Segment>
### openNextVersion?
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code>
</InlineSection>
</Section>

<InlineSection>
**Default** Latest OpenNext version
</InlineSection>
OpenNext version for building the Next.js site.
```js
openNextVersion: "2.2.4",
```
</Segment>
<Segment>
### path?
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">.</code>
</InlineSection>
Path to the directory where the app is located.
</Segment>
<Segment>
### permissions?
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">Object</code><code class="symbol">[]</code><code class="symbol">&gt;</code>
</InlineSection>
- <p>[<code class="key">actions</code>](#permissionsactions)</p>
- <p>[<code class="key">resources</code>](#permissionsresources)</p>
</Section>

<InlineSection>
**Default** No permissions
</InlineSection>
Attaches the given list of permissions to the SSR function.
```js
permissions: [
  {
    actions: ["s3:*"],
    resources: ["arn:aws:s3:::*"],
  }
]
```
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">permissions[].</code>actions
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code><code class="symbol">[]</code>
</InlineSection>
</Section>
IAM actions to allow to perform on the resources.
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">permissions[].</code>resources
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code><code class="symbol">[]</code>
</InlineSection>
</Section>
The Amazon Resource Name (ARN) of the resources to allow actions on.
</Segment>
<Segment>
### transform?
[Transform](/docs/transform/) how this component is created.
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Object</code>
</InlineSection>
- <p>[<code class="key">plan?</code>](#transformplan) <code class="primitive">Object</code><code class="symbol"> | </code><code class="symbol">(</code><code class="primitive">args</code><code class="symbol">: </code><code class="primitive">Object</code><code class="symbol"> => </code><code class="primitive">Object</code><code class="symbol"> | </code><code class="primitive">void</code><code class="symbol">)</code></p>
  - <p>[<code class="key">behaviors</code>](#transformplanbehaviors) <code class="primitive">Object</code><code class="symbol">[]</code></p>
    - <p>[<code class="key">allowedMethods?</code>](#transformplanbehaviorsallowedmethods)</p>
    - <p>[<code class="key">cacheType</code>](#transformplanbehaviorscachetype)</p>
    - <p>[<code class="key">cfFunction?</code>](#transformplanbehaviorscffunction)</p>
    - <p>[<code class="key">edgeFunction?</code>](#transformplanbehaviorsedgefunction)</p>
    - <p>[<code class="key">origin</code>](#transformplanbehaviorsorigin)</p>
    - <p>[<code class="key">pattern?</code>](#transformplanbehaviorspattern)</p>
  - <p>[<code class="key">buildId?</code>](#transformplanbuildid)</p>
  - <p>[<code class="key">cloudFrontFunctions?</code>](#transformplancloudfrontfunctions) <code class="primitive">Record</code><code class="symbol">&lt;</code><code class="primitive">string</code>, <code class="primitive">Object</code><code class="symbol">&gt;</code></p>
    - <p>[<code class="key">injections</code>](#transformplancloudfrontfunctionsinjections)</p>
  - <p>[<code class="key">edge</code>](#transformplanedge)</p>
  - <p>[<code class="key">edgeFunctions?</code>](#transformplanedgefunctions) <code class="primitive">Record</code><code class="symbol">&lt;</code><code class="primitive">string</code>, <code class="primitive">Object</code><code class="symbol">&gt;</code></p>
    - <p>[<code class="key">function</code>](#transformplanedgefunctionsfunction)</p>
  - <p>[<code class="key">errorResponses?</code>](#transformplanerrorresponses)</p>
  - <p>[<code class="key">origins</code>](#transformplanorigins) <code class="primitive">Record</code><code class="symbol">&lt;</code><code class="primitive">string</code>, <code class="primitive">Object</code><code class="symbol">&gt;</code></p>
    - <p>[<code class="key">group?</code>](#transformplanoriginsgroup) <code class="primitive">Object</code></p>
      - <p>[<code class="key">fallbackOriginName</code>](#transformplanoriginsgroupfallbackoriginname)</p>
      - <p>[<code class="key">fallbackStatusCodes</code>](#transformplanoriginsgroupfallbackstatuscodes)</p>
      - <p>[<code class="key">primaryOriginName</code>](#transformplanoriginsgroupprimaryoriginname)</p>
    - <p>[<code class="key">imageOptimization?</code>](#transformplanoriginsimageoptimization) <code class="primitive">Object</code></p>
      - <p>[<code class="key">function</code>](#transformplanoriginsimageoptimizationfunction)</p>
    - <p>[<code class="key">s3?</code>](#transformplanoriginss3) <code class="primitive">Object</code></p>
      - <p>[<code class="key">copy</code>](#transformplanoriginss3copy) <code class="primitive">Object</code><code class="symbol">[]</code></p>
        - <p>[<code class="key">cached</code>](#transformplanoriginss3copycached)</p>
        - <p>[<code class="key">from</code>](#transformplanoriginss3copyfrom)</p>
        - <p>[<code class="key">to</code>](#transformplanoriginss3copyto)</p>
        - <p>[<code class="key">versionedSubDir?</code>](#transformplanoriginss3copyversionedsubdir)</p>
      - <p>[<code class="key">originPath?</code>](#transformplanoriginss3originpath)</p>
    - <p>[<code class="key">server?</code>](#transformplanoriginsserver) <code class="primitive">Object</code></p>
      - <p>[<code class="key">function</code>](#transformplanoriginsserverfunction)</p>
      - <p>[<code class="key">injections?</code>](#transformplanoriginsserverinjections)</p>
      - <p>[<code class="key">streaming?</code>](#transformplanoriginsserverstreaming)</p>
  - <p>[<code class="key">serverCachePolicy?</code>](#transformplanservercachepolicy) <code class="primitive">Object</code></p>
    - <p>[<code class="key">allowedHeaders?</code>](#transformplanservercachepolicyallowedheaders)</p>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.</code>plan?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Object</code><code class="symbol"> | </code><code class="symbol">(</code><code class="primitive">args</code><code class="symbol">: </code><code class="primitive">Object</code><code class="symbol"> => </code><code class="primitive">Object</code><code class="symbol"> | </code><code class="primitive">void</code><code class="symbol">)</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.</code>behaviors
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Object</code><code class="symbol">[]</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.behaviors[].</code>allowedMethods?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="symbol">(</code><code class="symbol">&ldquo;</code><code class="primitive">DELETE</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">GET</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">HEAD</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">OPTIONS</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">PATCH</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">POST</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">PUT</code><code class="symbol">&rdquo;</code><code class="symbol">)[]</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.behaviors[].</code>cacheType
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="symbol">&ldquo;</code><code class="primitive">server</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">static</code><code class="symbol">&rdquo;</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.behaviors[].</code>cfFunction?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.behaviors[].</code>edgeFunction?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.behaviors[].</code>origin
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.behaviors[].</code>pattern?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.</code>buildId?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.</code>cloudFrontFunctions?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Record</code><code class="symbol">&lt;</code><code class="primitive">string</code>, <code class="primitive">Object</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.cloudFrontFunctions[].</code>injections
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code><code class="symbol">[]</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.</code>edge
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">boolean</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.</code>edgeFunctions?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Record</code><code class="symbol">&lt;</code><code class="primitive">string</code>, <code class="primitive">Object</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.edgeFunctions[].</code>function
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** [<code class="type">FunctionArgs</code>](function/#functionargs)
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.</code>errorResponses?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** [<code class="type">DistributionCustomErrorResponse</code>](https://www.pulumi.com/registry/packages/aws/api-docs/cloudfront/distribution/#distributioncustomerrorresponse)<code class="symbol">[]</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.</code>origins
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Record</code><code class="symbol">&lt;</code><code class="primitive">string</code>, <code class="primitive">Object</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
Each origin can be either an S3, server, image optimization, or group origin.
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.origins[].</code>group?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Object</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.origins[].group.</code>fallbackOriginName
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.origins[].group.</code>fallbackStatusCodes
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">number</code><code class="symbol">[]</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.origins[].group.</code>primaryOriginName
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.origins[].</code>imageOptimization?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Object</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.origins[].imageOptimization.</code>function
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** [<code class="type">FunctionArgs</code>](function/#functionargs)
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.origins[].</code>s3?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Object</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.origins[].s3.</code>copy
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Object</code><code class="symbol">[]</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.origins[].s3.copy[].</code>cached
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">boolean</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.origins[].s3.copy[].</code>from
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.origins[].s3.copy[].</code>to
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.origins[].s3.copy[].</code>versionedSubDir?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.origins[].s3.</code>originPath?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.origins[].</code>server?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Object</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.origins[].server.</code>function
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** [<code class="type">FunctionArgs</code>](function/#functionargs)
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.origins[].server.</code>injections?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code><code class="symbol">[]</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.origins[].server.</code>streaming?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">boolean</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.</code>serverCachePolicy?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Object</code>
</InlineSection>
</Section>
</Segment>
<Segment>
<InlineSection>
#### <code class="symbol">transform.plan.serverCachePolicy.</code>allowedHeaders?
</InlineSection>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code><code class="symbol">[]</code>
</InlineSection>
</Section>
</Segment>
<Segment>
### typesPath?
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">.</code>
</InlineSection>
Path relative to the app location where the type definitions are located.
</Segment>
<Segment>
### warm?
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">number</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** Server function is not kept warm
</InlineSection>
The number of server functions to keep warm. This option is only supported for the regional mode.
</Segment>