---
title: StaticSite
description: Reference doc for the `sst.aws.StaticSite` component.
---

import Segment from '../../../../../components/tsdoc/Segment.astro';
import Section from '../../../../../components/tsdoc/Section.astro';
import NestedTitle from '../../../../../components/tsdoc/NestedTitle.astro';
import InlineSection from '../../../../../components/tsdoc/InlineSection.astro';

<div class="tsdoc">

<Section type="about">
The `StaticSite` component lets you deploy a website to AWS.

#### Minimal example

Deploys a React site created using [Vite](https://vitejs.dev).

```js
new sst.aws.StaticSite("Web", {
  build: {
    output: "dist"
  },
});
```

#### Change the path

Deploys the site in the `my-app/` directory.

```js {2}
new sst.aws.StaticSite("Web", {
  path: "my-app/",
  build: {
    output: "dist"
  },
});
```

#### Add a custom domain

Set a custom domain for your site.

```js {2}
new sst.aws.StaticSite("Web", {
  domain: "my-app.com",
  build: {
    output: "dist"
  },
});
```

#### Redirect www to apex domain

Redirect `www.my-app.com` to `my-app.com`.

```js {4}
new sst.aws.StaticSite("Web", {
  domain: {
    domainName: "my-app.com",
    redirects: ["www.my-app.com"]
  }
  build: {
    output: "dist"
  },
});
```
</Section>

---

## Constructor

<Segment>
<Section type="signature">
```ts
new StaticSite(name, args, opts?)
```
</Section>

<Section type="parameters">
#### Parameters
- <p><code class="key">name</code> <code class="primitive">string</code></p>
- <p><code class="key">args</code> [<code class="type">StaticSiteArgs</code>](#staticsiteargs)</p>
- <p><code class="key">opts?</code> [<code class="type">ComponentResourceOptions</code>](https://www.pulumi.com/docs/concepts/options/)</p>
</Section>
</Segment>

## Properties

### nodes
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Object</code>
</InlineSection>
- <p>[<code class="key">assets</code>](#nodes-assets)</p>
</Section>
The underlying [resources](/docs/components/#nodes) this component creates.
</Segment>
<NestedTitle id="nodes-assets" Tag="h4" parent="nodes.">assets</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** [<code class="type">Bucket</code>](/docs/component/aws/bucket/)
</InlineSection>
</Section>
The Amazon S3 Bucket that stores the assets.
</Segment>

### url
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Output</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
The URL of the website.

If the `domain` is set, this is the URL with the custom domain.
Otherwise, it's the autogenerated CloudFront URL.
</Segment>

## Links

The following are accessible through the [Node client](/docs/reference/client/) at runtime.

### url
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code>
</InlineSection>
</Section>
The URL of the website.

If the `domain` is set, this is the URL with the custom domain.
Otherwise, it's the autogenerated CloudFront URL.
</Segment>

## StaticSiteArgs
### assets?
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">Object</code><code class="symbol">&gt;</code>
</InlineSection>
- <p>[<code class="key">fileOptions?</code>](#assets-fileoptions) <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">Object</code><code class="symbol">[]</code><code class="symbol">&gt;</code></p>
  - <p>[<code class="key">cacheControl?</code>](#assets-fileoptions-cachecontrol)</p>
  - <p>[<code class="key">contentType?</code>](#assets-fileoptions-contenttype)</p>
  - <p>[<code class="key">files</code>](#assets-fileoptions-files)</p>
  - <p>[<code class="key">ignore?</code>](#assets-fileoptions-ignore)</p>
- <p>[<code class="key">textEncoding?</code>](#assets-textencoding)</p>
</Section>
Configure how the assets uploaded to S3.

Default text encoding is `utf-8`.
Default cache control is:
- `max-age=0,no-cache,no-store,must-revalidate` for HTML files
- `max-age=31536000,public,immutable` for JS/CSS files

</Segment>
<NestedTitle id="assets-fileoptions" Tag="h4" parent="assets.">fileOptions?</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">Object</code><code class="symbol">[]</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
Pass in a list of file options to configure cache control for different files. Behind the scenes, the `StaticSite` construct uses a combination of the `s3 cp` and `s3 sync` commands to upload the website content to the S3 bucket. An `s3 cp` command is run for each file option block, and the options are passed in as the command options.

```js
assets: {
  fileOptions: [
    {
      files: "**/*.zip",
      cacheControl: "private,no-cache,no-store,must-revalidate",
      contentType: "application/zip",
    },
  ],
}
```
</Segment>
<NestedTitle id="assets-fileoptions-cachecontrol" Tag="h5" parent="assets.fileOptions[].">cacheControl?</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code>
</InlineSection>
</Section>
The `Cache-Control` header to apply to the matched files.

</Segment>
<NestedTitle id="assets-fileoptions-contenttype" Tag="h5" parent="assets.fileOptions[].">contentType?</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code>
</InlineSection>
</Section>
The `Content-Type` header to apply to the matched files.

</Segment>
<NestedTitle id="assets-fileoptions-files" Tag="h5" parent="assets.fileOptions[].">files</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code><code class="symbol"> | </code><code class="primitive">string</code><code class="symbol">[]</code>
</InlineSection>
</Section>
A glob pattern or array of glob patterns of files to apply these options to.

</Segment>
<NestedTitle id="assets-fileoptions-ignore" Tag="h5" parent="assets.fileOptions[].">ignore?</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code><code class="symbol"> | </code><code class="primitive">string</code><code class="symbol">[]</code>
</InlineSection>
</Section>
A glob pattern or array of glob patterns of files to exclude from the ones matched
by the `files` glob pattern.

</Segment>
<NestedTitle id="assets-textencoding" Tag="h4" parent="assets.">textEncoding?</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="symbol">&ldquo;</code><code class="primitive">none</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">utf-8</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">iso-8859-1</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">windows-1252</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">ascii</code><code class="symbol">&rdquo;</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">"utf-8"</code>
</InlineSection>
Character encoding for text based assets uploaded to S3, like HTML, CSS, JS. This is
used to set the `Content-Type` header when these files are served out.

If set to `"none"`, then no charset will be returned in header.

```js
{
  assets: {
    textEncoding: "iso-8859-1"
  }
}
```
</Segment>
### build
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">Object</code><code class="symbol">&gt;</code>
</InlineSection>
- <p>[<code class="key">command?</code>](#build-command)</p>
- <p>[<code class="key">output</code>](#build-output)</p>
</Section>
Configure the build process for the website.

</Segment>
<NestedTitle id="build-command" Tag="h4" parent="build.">command?</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">npm run build</code>
</InlineSection>
The command for building the website

```js
{
  buildCommand: "yarn build"
}
```
</Segment>
<NestedTitle id="build-output" Tag="h4" parent="build.">output</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
The directory with the content that will be uploaded to the S3 bucket. If a `buildCommand` is provided, this is usually where the build output is generated. The path is relative to the [`path`](#path) where the website source is located.

```js
{
  buildOutput: "build",
}
```
</Segment>
### domain?
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol"> | </code><code class="primitive">Object</code><code class="symbol">&gt;</code>
</InlineSection>
- <p>[<code class="key">aliases?</code>](#domain-aliases)</p>
- <p>[<code class="key">domainName</code>](#domain-domainname)</p>
- <p>[<code class="key">hostedZone?</code>](#domain-hostedzone)</p>
- <p>[<code class="key">hostedZoneId?</code>](#domain-hostedzoneid)</p>
- <p>[<code class="key">redirects?</code>](#domain-redirects)</p>
</Section>
Set a custom domain for your SSR site. Supports domains hosted either on
[Route 53](https://aws.amazon.com/route53/) or outside AWS.

:::tip
You can also migrate an externally hosted domain to Amazon Route 53 by
[following this guide](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/MigratingDNS.html).
:::

```js
{
  domain: "domain.com"
}
```

Specify the Route 53 hosted zone and a `www.` version of the custom domain.

```js
{
  domain: {
    domainName: "domain.com",
    hostedZone: "domain.com",
    redirects: ["www.domain.com"]
  }
}
```
</Segment>
<NestedTitle id="domain-aliases" Tag="h4" parent="domain.">aliases?</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">[]</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
Alias domains that should be used. Unlike the `redirect` option, this keeps your visitors
on this alias domain.

So if your users visit `app2.domain.com`, they will stay on `app2.domain.com` in their
browser.
```js {4}
{
  domain: {
    domainName: "app1.domain.com",
    aliases: ["app2.domain.com"]
  }
}
```
</Segment>
<NestedTitle id="domain-domainname" Tag="h4" parent="domain.">domainName</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
The custom domain you want to use. Supports domains hosted on [Route 53](https://aws.amazon.com/route53/) or outside AWS.

```js
{
  domain: "domain.com"
}
```
</Segment>
<NestedTitle id="domain-hostedzone" Tag="h4" parent="domain.">hostedZone?</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** Same as the `domainName`
</InlineSection>
Name of the [Route 53 hosted zone](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/hosted-zones-working-with.html) that contains the `domainName`. You can find the hosted zone name in the Route 53 part of the AWS Console.


Usually your domain name is in a hosted zone with the same name. For example,
`domain.com` might be in a hosted zone also called `domain.com`. So by default, SST will
look for a hosted zone that matches the `domainName`.

There are cases where these might not be the same. For example, if you use a subdomain,
`app.domain.com`, the hosted zone might be `domain.com`. So you'll need to pass in the
hosted zone name.

:::note
If both the `hostedZone` and `hostedZoneId` are set, `hostedZoneId` will take precedence.
:::

```js {4}
{
  domain: {
    domainName: "app.domain.com",
    hostedZone: "domain.com"
  }
}
```
</Segment>
<NestedTitle id="domain-hostedzoneid" Tag="h4" parent="domain.">hostedZoneId?</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
The 14 letter ID of the [Route 53 hosted zone](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/hosted-zones-working-with.html) that contains the `domainName`. You can find the hosted zone ID in the Route 53 part of the AWS Console.

This option is useful for cases where you have multiple hosted zones that have the same
domain.

:::note
If both the `hostedZone` and `hostedZoneId` are set, `hostedZoneId` will take precedence.
:::

```js {4}
{
  domain: {
    domainName: "domain.com",
    hostedZoneId: "Z2FDTNDATAQYW2"
  }
}
```
</Segment>
<NestedTitle id="domain-redirects" Tag="h4" parent="domain.">redirects?</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">[]</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
Alternate domains to be used. Visitors to the alternate domains will be redirected to the
main `domainName`.

:::note
Unlike the `aliases` option, this will redirect visitors back to the main `domainName`.
:::

Use this to create a `www.` version of your domain and redirect visitors to the apex domain.
```js {4}
{
  domain: {
    domainName: "domain.com",
    redirects: ["www.domain.com"]
  }
}
```
</Segment>
### environment?
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">Record</code><code class="symbol">&lt;</code><code class="primitive">string</code>, <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code><code class="symbol">&gt;</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
An object with the key being the environment variable name.

```js
environment: {
  API_URL: api.url,
  USER_POOL_CLIENT: auth.cognitoUserPoolClient.userPoolClientId,
},
```
</Segment>
### errorPage?
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** redirect to the index page
</InlineSection>
The error page for the website when visiting a page that does not exist.

```js
{
  errorPage: "404.html",
}
```
</Segment>
### indexPage?
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">index.html</code>
</InlineSection>
The name of the index page (e.g. "index.html") of the website.

```js
{
  indexPage: "home.html",
}
```
</Segment>
### invalidation?
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="symbol">&ldquo;</code><code class="primitive">false</code><code class="symbol">&rdquo;</code><code class="symbol"> | </code><code class="primitive">Object</code><code class="symbol">&gt;</code>
</InlineSection>
- <p>[<code class="key">paths?</code>](#invalidation-paths)</p>
- <p>[<code class="key">wait?</code>](#invalidation-wait)</p>
</Section>

<InlineSection>
**Default** <code class="primitive">&lcub;wait: false, paths: "all"&rcub;</code>
</InlineSection>
Configure how the CloudFront cache invalidations are handled.

Disable invalidation.
```js
{
  invalidation: false
}
```
</Segment>
<NestedTitle id="invalidation-paths" Tag="h4" parent="invalidation.">paths?</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">[]</code><code class="symbol"> | </code><code class="symbol">&ldquo;</code><code class="primitive">all</code><code class="symbol">&rdquo;</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">"all"</code>
</InlineSection>
The paths to invalidate.

You can either pass in an array of glob patterns to invalidate specific files. Or you can use the built-in option `all` to invalidation all files when any file changes.

:::note
Invalidating `all` counts as one invalidation, while each glob pattern counts as a single invalidation path.
:::

Invalidate the `index.html` and all files under the `products/` route.
```js
{
  invalidation: {
    paths: ["/index.html", "/products/*"]
  }
}
```
</Segment>
<NestedTitle id="invalidation-wait" Tag="h4" parent="invalidation.">wait?</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">boolean</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">false</code>
</InlineSection>
Configure if `sst deploy` should wait for the CloudFront cache invalidation to finish.

:::tip
For non-prod environments it might make sense to pass in `false`.
:::

Waiting for the CloudFront cache invalidation process to finish ensures that the new content will be served once the deploy finishes. However, this process can sometimes take more than 5 mins.

```js
{
  invalidation: {
    wait: true
  }
}
```
</Segment>
### path?
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">"."</code>
</InlineSection>
Path to the directory where the app is located.

</Segment>
### vite?
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">Object</code><code class="symbol">&gt;</code>
</InlineSection>
- <p>[<code class="key">types?</code>](#vite-types)</p>
</Section>

</Segment>
<NestedTitle id="vite-types" Tag="h4" parent="vite.">types?</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">string</code>
</InlineSection>
</Section>

<InlineSection>
**Default** "src/sst-env.d.ts"
</InlineSection>
The path where code-gen should place the type definition for environment variables

```js
{
  vite: {
    types: "./other/path/sst-env.d.ts",
  }
}
```
</Segment>
</div>