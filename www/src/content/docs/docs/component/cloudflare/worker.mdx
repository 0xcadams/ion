---
title: Worker
description: Reference for the `sst.aws.Worker` component.
---

import Segment from '../../../../../components/tsdoc/Segment.astro';
import Section from '../../../../../components/tsdoc/Section.astro';
import NestedTitle from '../../../../../components/tsdoc/NestedTitle.astro';
import InlineSection from '../../../../../components/tsdoc/InlineSection.astro';

<div class="tsdoc">

<Section type="about">
The `Worker` component lets you create a Cloudflare Worker.

#### Minimal example

```ts
new sst.cloudflare.Worker("MyWorker", {
  handler: "src/worker.handler"
});
```

#### Link resources

[Link resources](/docs/linking/) to the Worker. This will handle the credentials
and allow you to access it in your handler.

```ts {5}
const myBucket = new sst.aws.Bucket("MyBucket");

new sst.cloudflare.Worker("MyWorker", {
  handler: "src/worker.handler"
  link: [myBucket]
});
```

You can use the [Node client](/docs/reference/client/) to access the linked resources
in your handler.

```ts title="src/worker.ts"
import { Resource } from "sst";

console.log(Resource.MyBucket.name);
```

#### Enable URLs

Enable worker URLs to invoke the worker over HTTP.

```ts {3}
new sst.cloudflare.Worker("MyWorker", {
  handler: "src/worker.handler"
  url: true
});
```

#### Bundling

By default, SST will bundle your worker code using [esbuild](https://esbuild.github.io/).
 You can customize this using the `build` property.

```ts
new sst.cloudflare.Worker("MyWorker", {
  handler: "src/worker.handler"
  build: {
    install: ["pg"]
  }
});
```
</Section>

---

## Constructor

<Segment>
<Section type="signature">
```ts
new Worker(name, args, opts?)
```
</Section>

<Section type="parameters">
#### Parameters
- <p><code class="key">name</code> <code class="primitive">string</code></p>
- <p><code class="key">args</code> [<code class="type">WorkerArgs</code>](#workerargs)</p>
- <p><code class="key">opts</code> [<code class="type">ComponentResourceOptions</code>](https://www.pulumi.com/docs/concepts/options/)</p>
</Section>
</Segment>

## Properties

### devUrl
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Output</code><code class="symbol">&lt;</code><code class="primitive">undefined</code><code class="symbol"> | </code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
The Worker URL if `url` is enabled.
</Segment>

### nodes
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Object</code>
</InlineSection>
- <p>[<code class="key">worker</code>](#nodes-worker)</p>
</Section>
The underlying [resources](/docs/components/#nodes) this component creates.
</Segment>
<NestedTitle id="nodes-worker" Tag="h4" parent="nodes.">worker</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Output</code><code class="symbol">&lt;</code>[<code class="type">WorkerScript</code>](https://www.pulumi.com/registry/packages/cloudflare/api-docs/workerscript/)<code class="symbol">&gt;</code>
</InlineSection>
</Section>
The Cloudflare Worker script.
</Segment>

## WorkerArgs
### devUrl?
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">boolean</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">false</code>
</InlineSection>
Enable a dedicated endpoint for your Worker.

</Segment>
### handler
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
Path to the handler for the worker with the format `{file}.{method}`.

:::note
You don't need to specify the file extension.
:::

The handler path is relative to the root your repo or the `sst.config.ts`.

Here there is a file called `worker.js` (or `.ts`) in the `packages/functions/src/`
directory with an exported method called `handler`.

```js
{
  handler: "packages/functions/src/worker.handler"
}
```
</Segment>
### link?
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">any</code><code class="symbol">[]</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
[Link resources](/docs/linking/) to your worker. This will:

1. Handle the credentials needed to access the resources.
2. Allow you to access it in your site using the [Node client](/docs/reference/client/).

Takes a list of components to link to the function.

```js
{
  link: [myBucket, stripeKey]
}
```
</Segment>
### nodejs?
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">Object</code><code class="symbol">&gt;</code>
</InlineSection>
- <p>[<code class="key">banner?</code>](#nodejs-banner)</p>
- <p>[<code class="key">esbuild?</code>](#nodejs-esbuild)</p>
- <p>[<code class="key">loader?</code>](#nodejs-loader)</p>
- <p>[<code class="key">minify?</code>](#nodejs-minify)</p>
- <p>[<code class="key">sourcemap?</code>](#nodejs-sourcemap)</p>
</Section>
Configure how your function is bundled.

SST bundles your worker code using [esbuild](https://esbuild.github.io/). This tree shakes your code to only include what's used.

</Segment>
<NestedTitle id="nodejs-banner" Tag="h4" parent="nodejs.">banner?</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">string</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
Use this to insert a string at the beginning of the generated JS file.

```js
{
  nodejs: {
    banner: "console.log('Function starting')"
  }
}
```
</Segment>
<NestedTitle id="nodejs-esbuild" Tag="h4" parent="nodejs.">esbuild?</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code>[<code class="type">BuildOptions</code>](https://esbuild.github.io/api/#build)<code class="symbol">&gt;</code>
</InlineSection>
</Section>
This allows you to customize esbuild config that is used.

:::tip
Check out the _JS tab_ in the code snippets in the esbuild docs for the
[build options](https://esbuild.github.io/api/#build).
:::

</Segment>
<NestedTitle id="nodejs-loader" Tag="h4" parent="nodejs.">loader?</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">Record</code><code class="symbol">&lt;</code><code class="primitive">string</code>, [<code class="type">Loader</code>](https://esbuild.github.io/api/#loader)<code class="symbol">&gt;</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>
Configure additional esbuild loaders for other file extensions. This is useful
when your code is importing non-JS files like `.png`, `.css`, etc.

```js
{
  nodejs: {
    loader: {
     ".png": "file"
    }
  }
}
```
</Segment>
<NestedTitle id="nodejs-minify" Tag="h4" parent="nodejs.">minify?</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">boolean</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

<InlineSection>
**Default** <code class="primitive">true</code>
</InlineSection>
Enable or disable if the worked code is minified when bundled.

```js
{
  nodejs: {
    minify: false
  }
}
```
</Segment>
<NestedTitle id="nodejs-sourcemap" Tag="h4" parent="nodejs.">sourcemap?</NestedTitle>
<Segment>
<Section type="parameters">
<InlineSection>
**Type** <code class="primitive">Input</code><code class="symbol">&lt;</code><code class="primitive">boolean</code><code class="symbol">&gt;</code>
</InlineSection>
</Section>

</Segment>
</div>